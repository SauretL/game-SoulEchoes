*{margin:0;padding:0;box-sizing:border-box}body{background:linear-gradient(135deg,#0a0a1a,#1a1a3a,#0c0c24);color:#e0e0ff;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;min-height:100vh;overflow-x:hidden;position:relative}body:before{content:"";position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 20% 30%,rgba(41,106,180,.1) 0%,transparent 50%),radial-gradient(circle at 80% 70%,rgba(179,185,64,.08) 0%,transparent 50%),radial-gradient(circle at 40% 80%,rgba(106,90,205,.05) 0%,transparent 50%);pointer-events:none;z-index:-1}#root{min-height:100vh;position:relative}.app-container{min-height:100vh;background:transparent;padding:20px;max-width:1400px;margin:0 auto;width:100%}.start-view{text-align:center;padding:40px 20px;background:#0a0a1ab3;border-radius:20px;margin:40px auto;max-width:800px;border:1px solid rgba(41,106,180,.3);box-shadow:0 8px 32px #0000004d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.start-view h1{font-size:3.5rem;background:linear-gradient(135deg,gold,#ffed4e,#b3b940);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:30px;text-shadow:0 0 30px rgba(255,215,0,.3);font-weight:700;letter-spacing:2px}.start-view p{font-size:1.2rem;line-height:1.8;margin-bottom:40px;color:#c0c0ff;text-align:justify;padding:0 20px}.gacha-view{text-align:center;padding:20px 0;width:100%}.gacha-view h1{font-size:2.5rem;background:linear-gradient(135deg,#296ab4,#9370db);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:20px;font-weight:600}.gacha-view p{font-size:1.3rem;color:#e0e0ff;margin-bottom:30px;font-weight:500}button{background:linear-gradient(135deg,#296ab4,#6a5acd);color:#fff;border:none;padding:15px 40px;font-size:1.1rem;border-radius:50px;cursor:pointer;transition:all .3s ease;font-weight:600;letter-spacing:1px;text-transform:uppercase;box-shadow:0 4px 15px #296ab466;position:relative;overflow:hidden}button:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}button:hover:before{left:100%}button:hover{transform:translateY(-3px);box-shadow:0 8px 25px #296ab499;background:linear-gradient(135deg,#2d74c8,#7b68ee)}button:active{transform:translateY(-1px)}@media (max-width: 768px){.app-container{padding:10px}.start-view h1{font-size:2.5rem}.start-view p{font-size:1rem;padding:0 10px}.gacha-view h1{font-size:2rem}button{padding:12px 30px;font-size:1rem}}.coins-display{position:fixed;top:20px;right:20px;background:linear-gradient(135deg,gold,#ffed4e);padding:10px 20px;border-radius:25px;box-shadow:0 4px 12px #0000004d;border:2px solid #ffb700;z-index:1000}.coins-count{font-weight:700;color:#8b4513;font-size:16px;text-shadow:1px 1px 2px rgba(255,255,255,.5)}button:disabled{opacity:.6;cursor:not-allowed}button:disabled:hover{transform:none;box-shadow:none}.cards-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));margin-top:15px;gap:25px;padding:25px 20px;background:#1a1a2e;min-height:100vh;width:100%;align-items:start}.character-card{border-radius:16px;padding:15px;box-shadow:0 6px 20px #0006;transition:transform .3s ease,box-shadow .3s ease;text-align:center;border:2px solid rgba(255,255,255,.15);position:relative;overflow:visible;display:flex;flex-direction:column;min-height:280px;height:auto}.character-card:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,gold,#ffed4e,gold);opacity:.7}.character-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px #00000080;border-color:#ffffff40}.rarity-1{background:linear-gradient(135deg,#2a2a4a,#3a3a6a);border:2px solid #6b7280;box-shadow:0 4px 15px #6b72804d}.rarity-1:before{background:linear-gradient(90deg,#6b7280,#9ca3af,#6b7280)}.rarity-2{background:linear-gradient(135deg,#1e40af,#3b82f6,#60a5fa);border:2px solid #3b82f6;box-shadow:0 4px 15px #3b82f666}.rarity-2:before{background:linear-gradient(90deg,#3b82f6,#60a5fa,#3b82f6)}.rarity-3{background:linear-gradient(135deg,#b45309,#f59e0b,#fbbf24);border:2px solid #f59e0b;box-shadow:0 4px 20px #f59e0b80}.rarity-3:before{background:linear-gradient(90deg,#f59e0b,#fbbf24,#f59e0b)}.character-name{color:#fff;font-size:1.1em;margin-bottom:8px;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.6);letter-spacing:.5px;line-height:1.2;flex-shrink:0}.character-card p{color:#e0e0ff;font-size:.85em;margin-bottom:6px;font-weight:400;line-height:1.4;word-wrap:break-word;flex-shrink:0}.character-card p b{font-weight:600;color:#f0f0ff}.character-epitaph{color:#f0f0ff;font-size:.8em;font-style:italic;margin-top:8px;margin-bottom:10px;padding:8px;background:#0000004d;border-radius:8px;line-height:1.4;text-shadow:1px 1px 2px rgba(0,0,0,.5);font-weight:400}.character-image-container{width:100%;height:150px;display:flex;justify-content:center;align-items:center;margin-bottom:12px;overflow:hidden;border-radius:10px;background:#ffffff14;border:1px solid rgba(255,255,255,.1);flex-shrink:0}.character-image{max-width:100%;max-height:100%;width:auto;height:auto;object-fit:contain;border-radius:8px}.character-quote{color:#f8f8c8;font-size:.75em;margin-top:8px;padding:8px;background:#6a5acd40;border-radius:8px;line-height:1.4;border-left:2px solid #9370db;font-style:normal;text-shadow:1px 1px 2px rgba(0,0,0,.4);font-weight:400;flex-shrink:0}.character-card>*{flex-shrink:0}.character-epitaph{flex-grow:1;flex-shrink:1;min-height:40px}.character-card{max-height:none}.library-container{padding:20px;max-width:1200px;margin:0 auto;background:#1a1a1a;min-height:100vh}.library-header{background:#2a2a2a;padding:25px;border-radius:12px;margin-bottom:30px;box-shadow:0 4px 15px #0000004d}.library-header h1{color:#fff;margin:0 0 20px;font-size:2.2em;text-align:center;text-shadow:0 2px 4px rgba(0,0,0,.5)}.library-info{display:flex;justify-content:center;gap:30px;margin-bottom:20px;flex-wrap:wrap}.library-info p{color:#e0e0e0;font-size:1.1em;margin:0;padding:8px 16px;background:#ffffff1a;border-radius:20px;border:1px solid #444}.sort-controls{display:flex;justify-content:center;align-items:center;gap:15px;margin-bottom:20px;flex-wrap:wrap}.sort-controls label{color:#e0e0e0;font-weight:500;font-size:1.1em}.sort-select{background:#333;color:#fff;border:2px solid #555;border-radius:8px;padding:10px 15px;font-size:1em;cursor:pointer;transition:all .3s;min-width:150px}.sort-select:hover{border-color:#777;background:#3a3a3a}.sort-select:focus{outline:none;border-color:#888;box-shadow:0 0 0 2px #8888884d}.action-buttons{display:flex;justify-content:center;gap:15px;flex-wrap:wrap}.stats-button,.back-button,.dungeon-button{background:linear-gradient(135deg,#6a11cb,#2575fc);color:#fff;border:none;padding:12px 25px;border-radius:8px;cursor:pointer;font-size:1em;font-weight:600;transition:all .3s;min-width:180px}.back-button{background:linear-gradient(135deg,#ff6b6b,#ee5a24)}.dungeon-button{background:linear-gradient(135deg,#2a5a2a,#3a8b3a)}.stats-button:hover,.dungeon-button:hover{transform:translateY(-2px);box-shadow:0 6px 20px #6a11cb66}.back-button:hover{transform:translateY(-2px);box-shadow:0 6px 20px #ff6b6b66}.active-select-button{background:#2a5a2a;color:#98fb98;border:1px solid #2e8b57;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:.9em;font-weight:600;transition:all .3s ease;width:100%;margin-top:8px}.active-select-button:hover{background:#3a6a3a;transform:translateY(-2px);box-shadow:0 4px 12px #2e8b5766}.active-select-button.active{background:#1a3a1a;color:#7cfc7c;border-color:#32cd32}.active-select-button.active:hover{background:#2a4a2a;transform:translateY(-1px)}.card-footer{display:flex;justify-content:space-between;align-items:center;padding-top:12px;border-top:2px solid #444;flex-wrap:wrap;gap:8px}.active-slot-modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;justify-content:center;align-items:center;z-index:1000;padding:20px}.active-slot-modal{background:#2a2a2a;border:2px solid #444;border-radius:12px;padding:30px;max-width:500px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 8px 32px #0009}.active-slot-modal h3{color:gold;text-align:center;margin:0 0 10px;font-size:1.4em}.active-slot-modal p{color:#e0e0e0;text-align:center;margin-bottom:25px;font-size:.95em}.active-slots-grid{display:flex;flex-direction:column;gap:25px;margin-bottom:25px}.battle-row{background:#1a1a2a;padding:20px;border-radius:8px;border:1px solid #444}.battle-row h4{color:gold;text-align:center;margin:0 0 15px;font-size:1.1em}.slots-container{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}.active-slot{background:#333;color:#e0e0e0;border:2px solid #555;padding:12px 8px;border-radius:6px;cursor:pointer;font-size:.85em;transition:all .3s ease;min-height:60px;display:flex;align-items:center;justify-content:center;text-align:center;word-break:break-word}.active-slot.empty{background:#2a2a2a;border-color:#666;color:#888}.active-slot.empty:hover{background:#3a3a3a;border-color:#888;color:#e0e0e0;transform:translateY(-2px)}.active-slot.occupied{background:#3a2a2a;border-color:#8b4513;color:#ffa07a}.active-slot.occupied:hover{background:#4a3a3a;border-color:sienna;transform:translateY(-2px)}.modal-actions{display:flex;justify-content:center}.cancel-button{background:#5a2a2a;color:#ffa07a;border:1px solid #8b4513;padding:10px 25px;border-radius:6px;cursor:pointer;font-size:1em;font-weight:600;transition:all .3s ease}.cancel-button:hover{background:#6a3a3a;transform:translateY(-2px)}.library-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:25px;padding:10px}.empty-library{grid-column:1 / -1;text-align:center;padding:60px 20px;background:#2a2a2a;border-radius:12px;border:2px dashed #555}.empty-library p{color:#e0e0e0;font-size:1.2em;margin:10px 0}.empty-library p:first-child{font-size:1.4em;color:#fff;margin-bottom:15px}.library-card{background:#2a2a2a;border-radius:12px;padding:20px;transition:all .3s ease;box-shadow:0 4px 15px #0003;border:3px solid transparent;position:relative;overflow:hidden}.library-card:hover{transform:translateY(-5px);box-shadow:0 8px 25px #0006}.card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;padding-bottom:12px;border-bottom:2px solid #444}.character-name{color:#fff;margin:0;font-size:1.3em;font-weight:600}.duplicate-count{background:#ffffff1a;color:#fff;padding:4px 10px;border-radius:12px;font-size:.9em;font-weight:600;border:1px solid #555}.character-image-container{width:100%;height:200px;margin-bottom:15px;border-radius:8px;overflow:hidden;background:#1a1a1a;display:flex;align-items:center;justify-content:center}.character-image{width:100%;height:100%;object-fit:contain;transition:transform .3s ease}.library-card:hover .character-image{transform:scale(1.05)}.card-info{margin-bottom:15px}.card-info p{color:#e0e0e0;margin:8px 0;font-size:.95em;display:flex;justify-content:space-between}.card-info b{color:#fff;font-weight:600}.card-footer{display:flex;justify-content:center;padding-top:12px;border-top:2px solid #444}.rarity-indicator{padding:6px 15px;border-radius:20px;font-weight:700;font-size:.9em;text-shadow:0 1px 2px rgba(0,0,0,.5)}.rarity-3{border-color:gold;background:linear-gradient(135deg,#ffd7001a,#ffd7000d)}.rarity-3 .rarity-indicator{background:linear-gradient(135deg,gold,#ffed4e);color:#000;border:2px solid #ffd700}.rarity-3-text{color:gold;font-weight:700}.rarity-2{border-color:#9b59b6;background:linear-gradient(135deg,#9b59b61a,#9b59b60d)}.rarity-2 .rarity-indicator{background:linear-gradient(135deg,#9b59b6,#8e44ad);color:#fff;border:2px solid #9b59b6}.rarity-2-text{color:#9b59b6;font-weight:700}.rarity-1{border-color:#bdc3c7;background:linear-gradient(135deg,#bdc3c71a,#bdc3c70d)}.rarity-1 .rarity-indicator{background:linear-gradient(135deg,#bdc3c7,#ecf0f1);color:#2c3e50;border:2px solid #bdc3c7}.rarity-1-text{color:#bdc3c7;font-weight:700}.combat-positions{background:#1a1a2a;padding:20px;border-radius:8px;border:1px solid #444;margin-bottom:20px}.combat-positions h4{color:gold;text-align:center;margin:0 0 15px;font-size:1.1em}.positions-grid{display:flex;flex-direction:column;gap:15px}.battle-row{display:flex;flex-direction:column;gap:10px}.battle-row h5{color:#e0e0e0;margin:0;text-align:center;font-size:.9em}.slots-row{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}.combat-slot{background:#2a2a2a;border:2px solid #555;border-radius:6px;padding:10px;min-height:80px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:5px;transition:all .3s ease;cursor:pointer}.combat-slot.empty{border-style:dashed;border-color:#666;color:#888}.combat-slot.occupied{border-color:#296ab4;background:#296ab41a}.combat-slot.movable:hover{transform:translateY(-2px);box-shadow:0 4px 12px #ffd7004d}.combat-slot.selected{border-color:gold;background:#ffd7001a;box-shadow:0 0 15px #ffd70066}.slot-content{display:flex;flex-direction:column;align-items:center;gap:5px;width:100%}.slot-content img{width:40px;height:40px;object-fit:contain;border-radius:4px}.slot-name{color:#e0e0e0;font-size:.8em;text-align:center;word-break:break-word}.position-btn{background:#5a2a2a;color:#ffa07a;border:1px solid #8b4513;padding:8px 16px;border-radius:4px;cursor:pointer;font-size:.9em;transition:all .3s ease}.position-btn:hover:not(:disabled){background:#6a3a3a;transform:translateY(-1px)}.position-btn:disabled{opacity:.5;cursor:not-allowed}.active-buttons{display:flex;flex-direction:column;gap:5px;align-items:center;width:100%}.active-position{color:#98fb98;font-size:.8em;font-weight:600;text-align:center;background:#2e8b5733;padding:4px 8px;border-radius:4px;border:1px solid #2e8b57}.remove-active-button{background:#5a2a2a;color:#ff6b6b;border:1px solid #8b4513;padding:4px 8px;border-radius:4px;cursor:pointer;font-size:.8em;transition:all .3s ease;width:100%}.remove-active-button:hover{background:#6a3a3a;transform:translateY(-1px)}.active-select-button.disabled{background:#5a5a5a;color:#ccc;border-color:#777;cursor:not-allowed}.active-select-button.disabled:hover{background:#5a5a5a;transform:none;box-shadow:none}@media (max-width: 768px){.library-container{padding:15px}.library-header{padding:20px}.library-header h1{font-size:1.8em}.library-info{flex-direction:column;align-items:center;gap:10px}.sort-controls{flex-direction:column;gap:10px}.action-buttons{flex-direction:column;align-items:center}.stats-button,.back-button,.dungeon-button{width:100%;max-width:250px}.library-grid{grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px}.active-slot-modal{padding:20px;margin:10px}.slots-container{grid-template-columns:1fr;gap:8px}.active-slot{min-height:50px;font-size:.8em}.combat-positions{padding:15px}.slots-row{grid-template-columns:1fr;gap:8px}.combat-slot{min-height:60px;flex-direction:row;justify-content:flex-start;gap:10px}.slot-content{flex-direction:row;justify-content:flex-start}.slot-content img{width:30px;height:30px}.slot-name{font-size:.75em}}@media (max-width: 480px){.library-container{padding:10px}.library-header{padding:15px}.library-header h1{font-size:1.6em}.library-grid{grid-template-columns:1fr;gap:15px}.library-card{padding:15px}.character-image-container{height:180px}.active-slot-modal{padding:15px}.active-slot-modal h3{font-size:1.2em}.combat-positions{padding:10px}.combat-slot{min-height:50px;padding:8px}.slot-content img{width:25px;height:25px}}@media (max-width: 360px){.library-container{padding:5px}.library-header,.library-card{padding:10px}.character-image-container{height:150px}.active-slot{font-size:.75em;padding:8px 4px}}.character-detail-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000e6;display:flex;justify-content:center;align-items:center;z-index:1000;padding:20px}.character-detail-container{background:#2a2a2a;border-radius:12px;max-width:900px;width:100%;max-height:90vh;overflow-y:auto;position:relative;box-shadow:0 10px 30px #00000080}.detail-header{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #444;background:#1a1a1a;position:sticky;top:0;z-index:10}.close-button{background:none;border:none;color:#fff;font-size:24px;cursor:pointer;padding:5px 10px;transition:color .3s}.close-button:hover{color:#ff6b6b}.detail-content{display:grid;grid-template-columns:350px 1fr;gap:30px;padding:25px}.image-section{display:flex;flex-direction:column;gap:20px}.main-image-container{position:relative;border-radius:12px;overflow:hidden;box-shadow:0 4px 15px #0000004d}.main-image{width:100%;height:400px;object-fit:contain;background:#1a1a1a}.image-nav{position:absolute;top:50%;transform:translateY(-50%);background:#000c;border:none;color:#fff;padding:12px 15px;cursor:pointer;font-size:20px;border-radius:50%;width:45px;height:45px;display:flex;align-items:center;justify-content:center;transition:all .3s}.image-nav:hover{background:#000000e6;transform:translateY(-50%) scale(1.1)}.image-nav.prev{left:15px}.image-nav.next{right:15px}.image-counter{position:absolute;bottom:15px;right:15px;background:#000c;color:#fff;padding:8px 12px;border-radius:20px;font-size:14px;font-weight:500}.info-section{display:flex;flex-direction:column}.tabs{display:flex;gap:8px;margin-bottom:25px;flex-wrap:wrap;background:#1a1a1a;padding:10px;border-radius:8px}.tab-button{background:#333;border:none;color:#fff;padding:12px 20px;border-radius:6px;cursor:pointer;transition:all .3s;font-weight:500}.tab-button:hover{background:#444}.tab-button.active{background:#555;box-shadow:0 2px 8px #ffffff1a}.tab-content{flex:1;max-height:500px;overflow-y:auto;padding-right:10px}.tab-content::-webkit-scrollbar{width:6px}.tab-content::-webkit-scrollbar-track{background:#1a1a1a;border-radius:3px}.tab-content::-webkit-scrollbar-thumb{background:#555;border-radius:3px}.tab-content::-webkit-scrollbar-thumb:hover{background:#777}.general-info p,.quotes-info p,.story-info p,.skills-info p,.equipment-info p{margin:12px 0;line-height:1.5;color:#e0e0e0}.story-section,.skill-section,.equipment-section{margin-bottom:25px;padding-bottom:20px;border-bottom:1px solid #444}.gallery-info{padding:10px}.gallery-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:15px;margin-top:15px}.gallery-thumbnail{width:100%;height:120px;object-fit:cover;border-radius:8px;cursor:pointer;border:3px solid transparent;transition:all .3s ease;background:#1a1a1a}.gallery-thumbnail:hover{transform:scale(1.05);border-color:#666;box-shadow:0 4px 12px #0006}.gallery-thumbnail.active{border-color:#fff;box-shadow:0 4px 15px #fff3}.image-modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000f2;display:flex;justify-content:center;align-items:center;z-index:2000;padding:40px}.image-modal-container{position:relative;max-width:90%;max-height:90%;display:flex;flex-direction:column;align-items:center}.image-modal-content{position:relative;max-width:100%;max-height:80vh}.image-modal-img{max-width:100%;max-height:80vh;object-fit:contain;border-radius:8px;box-shadow:0 10px 40px #0009}.image-modal-close{position:absolute;top:-40px;right:0;background:none;border:none;color:#fff;font-size:28px;cursor:pointer;padding:5px;transition:color .3s}.image-modal-close:hover{color:#ff6b6b}.image-modal-nav{position:absolute;top:50%;transform:translateY(-50%);background:#000c;border:none;color:#fff;padding:15px 18px;cursor:pointer;font-size:24px;border-radius:50%;width:55px;height:55px;display:flex;align-items:center;justify-content:center;transition:all .3s}.image-modal-nav:hover{background:#000000e6;transform:translateY(-50%) scale(1.1)}.image-modal-prev{left:-70px}.image-modal-next{right:-70px}.image-modal-counter{position:absolute;bottom:-40px;left:50%;transform:translate(-50%);background:#000c;color:#fff;padding:10px 20px;border-radius:20px;font-size:16px;font-weight:500}.simplified-view .character-detail-container{max-width:600px}.simplified-content{display:flex;flex-direction:column;gap:25px;padding:0 25px 25px}.simplified-info{display:flex;flex-direction:column;gap:20px}.simplified-info .basic-info,.simplified-info .story-section,.simplified-info .equipment-section,.simplified-info .skills-section,.simplified-info .quotes-section{background:#ffffff0d;padding:20px;border-radius:10px;border:1px solid #444}.simplified-info h3{margin:0 0 15px;color:gold;font-size:1.2em;font-weight:600}.simplified-info p{margin:8px 0;line-height:1.5;color:#e0e0e0}.simplified-view .tabs{display:none}@media (max-width: 768px){.detail-content{grid-template-columns:1fr;gap:20px}.main-image{height:300px}.tabs{justify-content:center}.gallery-grid{grid-template-columns:repeat(2,1fr)}.image-modal-nav{width:45px;height:45px;padding:12px 15px;font-size:20px}.image-modal-prev{left:-50px}.image-modal-next{right:-50px}}@media (max-width: 480px){.character-detail-overlay{padding:10px}.gallery-grid{grid-template-columns:repeat(2,1fr);gap:10px}.gallery-thumbnail{height:100px}.image-modal-overlay{padding:20px}.image-modal-nav{position:fixed;bottom:20px;top:auto;transform:none}.image-modal-prev{left:20px}.image-modal-next{right:20px}}.stats-container{padding:20px;max-width:1200px;margin:0 auto}.stats-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding-bottom:15px;border-bottom:2px solid #444}.stats-section{margin-bottom:40px;padding:20px;background:#2a2a2a;border-radius:8px}.stats-section h2{margin-bottom:20px;color:#fff;border-bottom:1px solid #444;padding-bottom:10px}.general-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}.stats-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:15px}.stat-card{background:#1a1a1a;padding:15px;border-radius:8px;border-left:4px solid #666}.stat-card h3{margin:0 0 10px;font-size:14px;color:#ccc}.stat-card p{margin:0 0 10px;font-size:18px;font-weight:700;color:#fff}.progress-bar{width:100%;height:8px;background:#444;border-radius:4px;overflow:hidden}.progress-fill{height:100%;background:linear-gradient(90deg,#4caf50,#8bc34a);transition:width .3s ease}.fragment-detailed{background:#1a1a1a;padding:15px;border-radius:8px;margin-bottom:15px}.fragment-detailed h3{margin:0 0 15px;color:#fff;border-bottom:1px solid #333;padding-bottom:8px}.detailed-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px}.detailed-category{background:#2a2a2a;padding:12px;border-radius:6px}.detailed-category h4{margin:0 0 10px;color:#ccc;font-size:14px}.mini-stat{display:flex;justify-content:space-between;font-size:12px;margin-bottom:5px;color:#ddd}.back-button{background:#666;color:#fff;border:none;padding:10px 20px;border-radius:6px;cursor:pointer;transition:background .3s}.back-button:hover{background:#888}@media (max-width: 768px){.stats-header{flex-direction:column;gap:15px;text-align:center}.general-stats,.stats-grid,.detailed-stats{grid-template-columns:1fr}}.stats-top-info{display:flex;align-items:center;gap:20px}.coins-info{background:linear-gradient(135deg,gold,#ffed4e);padding:8px 16px;border-radius:20px;font-weight:700;color:#8b4513;border:2px solid #ffb700}.dungeon-container{padding:20px;max-width:1200px;margin:0 auto;background:#0a0a14f2;border-radius:8px;box-shadow:0 8px 32px #00000080;border:1px solid #444;font-family:Courier New,monospace;min-height:100vh;color:#e0e0e0}.dungeon-header{text-align:center;margin-bottom:25px;padding-bottom:20px;border-bottom:1px solid #444}.dungeon-header h2{color:gold;font-size:2em;margin-bottom:15px;text-shadow:0 0 10px rgba(255,215,0,.3);font-family:Courier New,monospace;font-weight:700}.dungeon-info{display:flex;justify-content:center;gap:30px;flex-wrap:wrap}.coins-display{background:#2a2a2a;padding:8px 16px;border-radius:4px;border:1px solid #555;font-family:Courier New,monospace}.coins-label{font-weight:600;color:gold;margin-right:8px}.coins-count{font-weight:700;color:gold;font-size:16px}.dungeon-coins-collected{background:#1a3a5f;padding:8px 16px;border-radius:4px;border:1px solid #296ab4;color:#87ceeb;font-weight:600;font-family:Courier New,monospace}.dungeon-navigation{display:flex;justify-content:center;gap:15px;margin-bottom:25px;flex-wrap:wrap}.nav-button{background:#2a2a2a;color:#e0e0e0;border:1px solid #555;padding:12px 25px;border-radius:4px;cursor:pointer;font-size:1em;font-weight:600;transition:all .3s ease;font-family:Courier New,monospace;min-width:160px}.back-button{background:#5a2a2a;border-color:#8b4513;color:#ffa07a}.refresh-button{background:#2a5a2a;border-color:#2e8b57;color:#98fb98}.nav-button:hover{background:#3a3a3a;transform:translateY(-1px)}.back-button:hover{background:#6a3a3a}.refresh-button:hover{background:#3a6a3a}.dungeon-active-characters{width:100%;margin-bottom:30px;padding:20px;background:#1a1a2acc;border-radius:8px;border:1px solid #444}.dungeon-active-characters h4{text-align:center;color:gold;margin-bottom:20px;font-size:1.3em;text-transform:uppercase;letter-spacing:1px}.active-characters-grid{display:flex;justify-content:center;gap:20px;flex-wrap:wrap;max-width:100%;padding:10px 0}.dungeon-character-card{width:200px;min-height:280px;background:#1a1a2a;border:2px solid #444;border-radius:8px;padding:15px;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #00000080;font-family:Courier New,monospace;position:relative;display:flex;flex-direction:column}.dungeon-character-card:hover{transform:translateY(-5px);border-color:gold;box-shadow:0 6px 20px #ffd7004d}.position-badge{position:absolute;top:-12px;left:50%;transform:translate(-50%);background:linear-gradient(135deg,gold,#ffed4e);color:#000;padding:6px 16px;border-radius:20px;border:2px solid #b45309;font-size:.75em;font-weight:700;text-transform:uppercase;letter-spacing:.5px;z-index:10;box-shadow:0 3px 10px #ffd70066;white-space:nowrap;min-width:140px;text-align:center}.dungeon-character-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid #444;margin-top:8px}.dungeon-character-header h4{color:gold;margin:0;font-size:1.1em;text-align:left}.dungeon-duplicates{background:#ffffff1a;color:#fff;padding:2px 8px;border-radius:10px;font-size:.8em;border:1px solid #555}.dungeon-character-image{width:100%;height:120px;margin-bottom:12px;border-radius:4px;overflow:hidden;background:#0a0a14;display:flex;align-items:center;justify-content:center;flex-shrink:0}.dungeon-character-image img{width:100%;height:100%;object-fit:contain;background:#1a1a2a}.dungeon-character-hp{margin-bottom:12px;flex-shrink:0}.hp-bar{background:#333;border-radius:3px;height:20px;position:relative;overflow:hidden;border:1px solid #555;display:flex;align-items:center;justify-content:center}.hp-fill{background:linear-gradient(90deg,#4caf50,#8bc34a);height:100%;transition:width .3s ease;border-radius:2px;position:absolute;left:0;top:0}.hp-text{position:relative;z-index:2;font-size:.7em;font-weight:700;color:#fff;text-shadow:1px 1px 1px rgba(0,0,0,.8);padding:0 5px}.dungeon-character-info{margin-bottom:12px;flex-grow:1}.dungeon-character-info p{color:#e0e0e0;margin:6px 0;font-size:.85em;display:flex;justify-content:space-between}.dungeon-character-info b{color:#b0b0ff}.dungeon-character-indicator{text-align:center;padding:6px;border-radius:4px;font-weight:700;font-size:.9em;flex-shrink:0}.rarity-1{border-color:#bdc3c7}.rarity-2{border-color:#9b59b6}.rarity-3{border-color:gold}.rarity-1-text{color:#bdc3c7}.rarity-2-text{color:#9b59b6}.rarity-3-text{color:gold}.no-active-characters{text-align:center;padding:30px;background:#1a1a2a80;border-radius:8px;border:2px dashed #444;color:#888}.no-active-characters p{margin:0 0 8px;font-size:1.1em;color:#b0b0ff}.no-active-characters small{font-size:.9em;color:#777}.dungeon-instructions{background:#1a1a2a;padding:15px;border-radius:4px;margin-bottom:25px;border:1px solid #444;text-align:center;font-family:Courier New,monospace}.dungeon-instructions p{margin:8px 0;color:#b0b0ff;font-size:.95em}.dungeon-map-container{display:flex;justify-content:center;margin-bottom:25px}.dungeon-map{background:#0a0a14;padding:20px;border-radius:4px;border:2px solid #444;box-shadow:inset 0 0 20px #000c}.map-row{display:flex;justify-content:center}.map-cell{width:50px;height:50px;display:flex;align-items:center;justify-content:center;margin:1px;border-radius:2px;font-size:1.8em;font-family:Courier New,monospace;font-weight:700;transition:all .2s ease}.wall{background:#334;color:#789;border:1px solid #556677;text-shadow:1px 1px 2px rgba(0,0,0,.8)}.floor{background:#1a1a2a;color:#667;border:1px solid #2a2a3a;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.player{background:#2a4a6a;color:gold;border:1px solid #3b82f6;text-shadow:0 0 10px rgba(255,215,0,.5);box-shadow:0 0 15px #3b82f666}.dungeon-legend{display:flex;justify-content:center;gap:30px;margin-bottom:25px;flex-wrap:wrap}.legend-item{display:flex;align-items:center;gap:10px;background:#1a1a2a;padding:8px 16px;border-radius:4px;border:1px solid #444}.legend-symbol{font-size:1.5em;font-weight:700;font-family:Courier New,monospace}.legend-text{color:#e0e0e0;font-size:.9em}.touch-controls{display:none;flex-direction:column;align-items:center;gap:10px;margin-bottom:25px}.touch-row{display:flex;gap:15px;justify-content:center}.touch-button{width:70px;height:70px;border:1px solid #555;border-radius:4px;font-size:1.8em;cursor:pointer;transition:all .3s ease;background:#2a2a2a;color:#e0e0e0;font-family:Courier New,monospace;display:flex;align-items:center;justify-content:center}.touch-button:active{background:#3a3a3a;transform:scale(.95)}.dungeon-stats{display:flex;justify-content:center;gap:30px;flex-wrap:wrap;background:#1a1a2a;padding:15px;border-radius:4px;border:1px solid #444;font-family:Courier New,monospace}.stat-item{display:flex;flex-direction:column;align-items:center;gap:5px}.stat-label{color:#b0b0ff;font-size:.9em;font-weight:600}.stat-value{color:gold;font-weight:700;font-size:1.1em}.combat-status{background-color:#f44;color:#fff;padding:10px;border-radius:5px;margin:10px 0;text-align:center;font-weight:700}@media (max-width: 1024px){.dungeon-container{max-width:95%;padding:15px}.active-characters-grid{gap:15px}.dungeon-character-card{width:180px}}@media (max-width: 768px){.dungeon-container{padding:15px;margin:10px}.dungeon-header h2{font-size:1.6em}.dungeon-info{flex-direction:column;align-items:center;gap:15px}.dungeon-navigation{flex-direction:column;align-items:center}.nav-button{width:100%;max-width:250px}.dungeon-active-characters{padding:15px}.active-characters-grid{flex-wrap:wrap;justify-content:center}.dungeon-character-card{width:160px;min-width:160px}.position-badge{font-size:.7em;padding:5px 12px;min-width:120px}.map-cell{width:40px;height:40px;font-size:1.5em}.dungeon-legend{flex-direction:column;align-items:center;gap:15px}.touch-controls{display:flex}.dungeon-stats{flex-direction:column;gap:15px}}@media (max-width: 480px){.dungeon-container{padding:10px;margin:5px}.dungeon-header h2{font-size:1.4em}.dungeon-character-card{width:100%;max-width:200px;min-width:auto}.position-badge{font-size:.65em;padding:4px 10px;min-width:110px}.map-cell{width:35px;height:35px;font-size:1.3em}.touch-button{width:60px;height:60px;font-size:1.5em}.dungeon-instructions p{font-size:.85em}.nav-button{padding:10px 20px;font-size:.9em}}.combat-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000e6;display:flex;justify-content:center;align-items:center;z-index:1000;font-family:Courier New,monospace;padding:20px}.combat-container{background:#1a1a2a;border:2px solid #444;border-radius:12px;padding:20px;max-width:900px;width:100%;max-height:95vh;overflow-y:auto;color:#e0e0e0;box-shadow:0 0 40px #ffd70066;display:flex;flex-direction:column;gap:15px}.combat-header{text-align:center;padding-bottom:10px;border-bottom:1px solid #444;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px}.combat-header h2{color:gold;margin:0;font-size:1.5em}.turn-indicator{background:#2a4a6a;color:gold;padding:6px 12px;border-radius:15px;font-weight:700;border:1px solid #3b82f6;font-size:.9em}.alive-players-count,.alive-enemies-count{background:#1e3a5f;color:#e0e0e0;padding:4px 10px;border-radius:12px;font-size:.8em;border:1px solid #444}.targeting-indicator{width:100%;background:#ff9800;color:#fff;padding:10px;border-radius:5px;font-weight:700;text-align:center;animation:pulse-targeting 1.5s ease-in-out infinite;box-shadow:0 0 20px #ff980080}@keyframes pulse-targeting{0%,to{opacity:1;transform:scale(1)}50%{opacity:.8;transform:scale(1.02)}}.battle-field{display:grid;grid-template-columns:1fr auto 1fr;gap:20px;align-items:center;margin:10px 0;padding:20px;background:#0a0a1499;border-radius:10px;border:1px solid #444}.combatant{text-align:center;padding:15px;border-radius:8px;border:2px solid transparent;background:#2a2a2acc;min-width:140px;transition:all .3s ease;position:relative}.player-combatant{border-color:#296ab4;background:#296ab41a;cursor:pointer;transition:all .3s ease}.player-combatant:hover{transform:scale(1.02);box-shadow:0 4px 15px #ffd7004d}.player-combatant.active-turn{border-color:gold;background:#ffd70026;box-shadow:0 0 15px #ffd70066;transform:scale(1.05)}.player-combatant.defeated{opacity:.6;filter:grayscale(1);border-color:#666}.enemy-combatant{border-color:#dc2626;background:#dc26261a;cursor:default;transition:all .3s ease}.enemy-combatant.targetable{cursor:crosshair!important;border-color:#ff9800;background:#ff980033;animation:glow-target 1s ease-in-out infinite;transform:scale(1.05)}.enemy-combatant.targetable:hover{border-color:gold;background:#ffd7004d;box-shadow:0 0 25px #ffd70099;transform:scale(1.1)!important}@keyframes glow-target{0%,to{box-shadow:0 0 10px #ff980080}50%{box-shadow:0 0 20px #ff9800cc}}.target-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:48px;pointer-events:none;animation:bounce-target 1s ease-in-out infinite;text-shadow:2px 2px 4px rgba(0,0,0,.8);z-index:10}@keyframes bounce-target{0%,to{transform:translate(-50%,-50%) scale(1)}50%{transform:translate(-50%,-50%) scale(1.2)}}.combatant-info h3{color:gold;margin:0 0 10px;font-size:1em}.hp-bar{background:#333;border:1px solid #555;border-radius:10px;height:16px;margin:8px 0;position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center}.hp-fill{height:100%;background:linear-gradient(90deg,#ef4444,#22c55e);transition:width .3s ease;border-radius:8px;position:absolute;left:0;top:0}.hp-text{position:relative;z-index:2;font-size:.65em;font-weight:700;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.8);padding:0 5px}.stats{display:grid;grid-template-columns:1fr 1fr;gap:4px;font-size:.65em;margin-top:8px}.stats span{background:#ffffff1a;padding:3px 6px;border-radius:3px;border:1px solid #444;text-align:center}.combatant-image{margin-top:10px;position:relative}.combatant-image img{width:60px;height:60px;object-fit:contain;border-radius:6px;border:2px solid #444;background:#0a0a14}.defeated-overlay{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:1.5em;text-shadow:2px 2px 4px rgba(0,0,0,.8)}.vs-separator{background:gold;color:#000;padding:10px 6px;border-radius:50%;font-weight:700;font-size:.9em;border:2px solid #b45309;width:45px;height:45px;display:flex;align-items:center;justify-content:center}.player-side{display:grid;grid-template-columns:1fr 1fr;gap:15px;width:100%}.position-column{display:flex;flex-direction:column;gap:10px}.position-label{text-align:center;color:gold;font-weight:700;font-size:.9em;margin-bottom:5px;background:#0000004d;padding:4px;border-radius:4px}.enemy-side{display:grid;grid-template-columns:1fr 1fr;gap:15px;width:100%}.enemy-position-column,.enemy-row-container{display:flex;flex-direction:column;gap:10px}.enemy-slot{min-height:100px}.empty-enemy-slot{background:#2a2a2a4d;border:2px dashed #666;border-radius:8px;min-height:100px;display:flex;align-items:center;justify-content:center;color:#888;font-size:.8em}.position-badge{font-size:.7em;padding:2px 6px;border-radius:10px;margin-top:4px;text-align:center;font-weight:700}.front-badge{background:#dc2626;color:#fff}.back-badge{background:#3b82f6;color:#fff}.empty-slot{background:#2a2a2a4d;border:2px dashed #666;border-radius:8px;min-height:80px;display:flex;align-items:center;justify-content:center;color:#888}.empty-slot-content{text-align:center;font-size:.8em}.action-buttons{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin:10px 0}.current-turn-indicator{background:gold;color:#000;padding:8px 12px;border-radius:20px;font-weight:700;margin-bottom:8px;text-align:center;grid-column:1 / -1;font-size:.9em}.attack-btn,.position-btn,.cancel-btn{padding:12px 16px;border:none;border-radius:6px;font-family:Courier New,monospace;font-weight:700;font-size:.9em;cursor:pointer;transition:all .3s ease;min-width:110px}.physical-attack{background:linear-gradient(135deg,#dc2626,#ef4444);color:#fff}.psychic-attack{background:linear-gradient(135deg,#7c3aed,#8b5cf6);color:#fff}.position-btn{background:#5a2a2a;color:#ffa07a;border:1px solid #8b4513;grid-column:1 / -1;justify-self:center;min-width:180px}.cancel-btn{background:linear-gradient(135deg,#dc2626,#991b1b);color:#fff;grid-column:1 / -1;font-size:1em;padding:15px 30px;animation:pulse-cancel 1s ease-in-out infinite}@keyframes pulse-cancel{0%,to{box-shadow:0 0 10px #dc262680}50%{box-shadow:0 0 20px #dc2626cc}}.attack-btn:hover:not(:disabled),.position-btn:hover:not(:disabled),.cancel-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0006}.attack-btn:disabled,.position-btn:disabled{opacity:.5;cursor:not-allowed;transform:none}.battle-log{background:#0a0a14;border:1px solid #444;border-radius:6px;padding:12px;margin-top:10px}.battle-log h4{color:gold;margin:0 0 8px;font-size:.9em;text-align:center}.log-messages{max-height:100px;overflow-y:auto;font-size:.8em}.log-message{padding:5px 6px;margin:3px 0;background:#ffffff0d;border-radius:4px;border-left:3px solid #296ab4}.battle-result{text-align:center;padding:15px;border-radius:8px;margin-top:10px;animation:pulse 1s ease-in-out infinite}.battle-result.victory{background:#22c55e33;border:2px solid #22c55e;color:#22c55e}.battle-result.defeat{background:#ef444433;border:2px solid #ef4444;color:#ef4444}.battle-result h2{margin:0 0 8px;font-size:1.5em}@keyframes pulse{0%,to{opacity:1}50%{opacity:.7}}@media (max-width: 768px){.combat-overlay{padding:10px}.combat-container{padding:15px;max-height:98vh;gap:12px}.combat-header{flex-direction:column;text-align:center;gap:8px}.combat-header h2{font-size:1.3em}.battle-field{grid-template-columns:1fr;gap:15px;padding:15px}.player-side{grid-template-columns:1fr;gap:8px}.position-column{gap:6px}.combatant{min-width:auto;padding:8px}.vs-separator{order:-1;justify-self:center;width:40px;height:40px;font-size:.8em}.enemy-row-container{gap:6px}.enemy-slot{min-height:80px}.action-buttons{grid-template-columns:1fr;gap:8px}.attack-btn,.position-btn,.cancel-btn{width:100%;padding:10px 12px;font-size:.85em;min-width:auto}.combatant-image img{width:50px;height:50px}.target-icon{font-size:36px}.log-messages{max-height:80px;font-size:.75em}}@media (max-width: 480px){.combat-container{padding:10px;gap:10px}.combat-header h2{font-size:1.2em}.turn-indicator,.alive-players-count,.alive-enemies-count{font-size:.75em;padding:4px 8px}.targeting-indicator{font-size:.85em;padding:8px}.battle-field{padding:10px;gap:12px}.combatant{padding:6px}.combatant-info h3{font-size:.8em}.combatant-image img{width:45px;height:45px}.target-icon{font-size:30px}.empty-slot{min-height:60px}.enemy-slot{min-height:70px}.vs-separator{width:35px;height:35px;font-size:.75em}.action-buttons{gap:6px}.attack-btn,.position-btn,.cancel-btn{padding:8px 10px;font-size:.8em}.current-turn-indicator{font-size:.8em;padding:6px 10px}.battle-log{padding:10px}.log-messages{max-height:70px;font-size:.7em}.battle-result{padding:12px}.battle-result h2{font-size:1.3em}}@media (max-width: 360px){.combat-overlay{padding:5px}.combat-container{padding:8px;gap:8px}.combat-header h2{font-size:1.1em}.battle-field{padding:8px}.combatant-image img{width:40px;height:40px}.target-icon{font-size:24px}.vs-separator{width:30px;height:30px;font-size:.7em}.action-buttons{gap:4px}}.log-messages::-webkit-scrollbar{width:4px}.log-messages::-webkit-scrollbar-track{background:#1a1a2a;border-radius:2px}.log-messages::-webkit-scrollbar-thumb{background:#444;border-radius:2px}.log-messages::-webkit-scrollbar-thumb:hover{background:#555}
